<mat-toolbar color="primary">
  <span class="spacer"></span>

  <div class="toolbar-content">
    <img src="./assets/images/cargosafe-logo.png" class="issuer-img" alt="CargoSafe Logo" />
    <p class="header-title" aria-label="title">CargoSafe</p>
  </div>

  <span class="spacer"></span>

  <nav class="toolbar-nav">
    <button mat-button>Inicio</button>
    <button mat-button>Ver historial</button>
    <button mat-button routerLink="/request/trip/new">
      <mat-icon>local_shipping</mat-icon>
      <span>Solicitar Servicio</span>
    </button>
  </nav>

  <app-language-switcher></app-language-switcher>

  <button mat-icon-button aria-label="Notificaciones" [matMenuTriggerFor]="notificationMenu" matBadge="{{ notificationCount }}" matBadgeColor="warn">
    <mat-icon>notifications</mat-icon>
    <span class="cdk-visually-hidden">You have {{ notificationCount }} new notifications</span>
  </button>

  <mat-menu #notificationMenu="matMenu">
    <ng-container *ngIf="notificationCount > 0; else noNotifications">
      <div *ngFor="let notification of notifications; let i = index" class="notification-item">
        <app-notifications [message]="notification.status" type="info"></app-notifications>
        <button mat-icon-button (click)="removeNotification(i)" aria-label="Eliminar notificación">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    </ng-container>
    <ng-template #noNotifications>
      <span mat-menu-item>No tienes nuevas notificaciones</span>
    </ng-template>
  </mat-menu>

  <button mat-icon-button [matMenuTriggerFor]="profileMenu" aria-label="Perfil">
    <mat-icon>account_circle</mat-icon>
  </button>

  <mat-menu #profileMenu="matMenu">
    <button mat-menu-item>
      <mat-icon>settings</mat-icon>
      <span>Configuración</span>
    </button>
    <button mat-menu-item>
      <mat-icon>logout</mat-icon>
      <span>Cerrar sesión</span>
    </button>
  </mat-menu>
</mat-toolbar>
